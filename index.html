<!DOCTYPE html>
<html>
<head>
    <title></title>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.21.3/system.js" integrity="sha256-BpGtDbQ04vwkAquy4QnHHLU/ZW66NsCeVh0NFVte07s=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.21.3/system.src.js" integrity="sha256-aCXLfJl/ujrWdb03oGbfG4eiyzKsZT8okCrmbTArXVA=" crossorigin="anonymous"></script>
    <script>
        window.onload = function () {
            SystemJS.config({
                //transpile:false,
                baseURL: './',
                packages: {
                    'dist': {
                        format: 'cjs',
                        defaultExtension: 'js'
                    }
                }
            });

            SystemJS.import('dist/main.web').then(function (m) {
                document.getElementById('convert').addEventListener("click", convert)
                function convert() {
                    let val = document.getElementById('input').value;
                    if (val && val.trim()) {
                        try {

                            var a = JSON.parse(val);
                            document.getElementById('output').value = m.generate(a);
                        }
                        catch (e) {
                            document.getElementById('output').value = JSON.stringify(e);
                        }

                    }
                    else {
                        document.getElementById('output').value = "";

                    }
                }
            });
        }
    </script>
</head>
<body>
    <textarea id="input" style="width:100%;" rows="20"></textarea>
    <hr />
    <div style="text-align:center;">
        <button type="button" id="convert">convert</button>
    </div>
    <hr />
    <textarea id="output" style="width:100%;" rows="50"></textarea>
</body>
</html>